scalar Time

type Query {
  roles: [Role!]!

  users(showDeleted: Boolean): [User!]!

  streams: [Stream!]!
  stream(id: ID, slug: String): Stream!

  routerProviders: [RouterProvider!]!
  routers: [Router!]!
  router(id: ID!): Router!
}

type Mutation {
  login(username: String!, password: String!): LoginResponse!

  createUser(user: UserUpdate!): User
  updateUser(id: Int!, user: UserUpdate!): User
  updateUserPassword(id: Int!, password: String!): Int
  deactivateUser(id: Int!): Int
  reactivateUser(id: Int!): Int

  createStream(stream: StreamUpdate!): Stream
  updateStream(id: ID!, stream: StreamUpdate!): Stream
  deleteStream(id: Int!): Int

  createRouter(router: RouterUpdate!): Router
  deleteRouter(id: ID!): Int

  route(routerId: ID!, destination: Int!, source: Int!): Int
}

type Subscription {
  stream(id: ID, slug: String): Stream
  destinationUpdate(routerId: ID): Destination
}